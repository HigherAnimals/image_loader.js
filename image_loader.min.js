var ImageLoader;ImageLoader=function(a,b,c,d,e){this._imagePaths=a||[],this._images=[],this._allback=b,this._oneback=c,this._errback=d,a&&!e&&this.start()},ImageLoader.prototype.isLoading=function(){return this._loading},ImageLoader.prototype.start=function(){if(this._loading)return;this._loading=!0,this._imagePaths.forEach(function(a,b){this._startImage(a,b)},this)},ImageLoader.prototype._startImage=function(a,b){var c;c=new Image,this._images.push(c),c.onload=function(a){return function(){a._check(c,b)}}(this),this._errback&&(c.onerror=this._errback),c.src=a},ImageLoader.prototype._check=function(a,b){var c;c=this._imagePaths.length- ++this._numLoaded,this._oneback&&this._oneback(a,b,this._numLoaded,this._imagePaths.length),this._allback&&this._imagePaths.length===this._numLoaded&&(this._loading=!1,this._allback(this._images))},ImageLoader.prototype.getPercent=function(){var a;return a=this._imagePaths.length,a?this._numLoaded/a:NaN},ImageLoader.prototype.addImagePath=function(a){this._imagePaths.push(a),this._loading&&this._startImage(a,this._imagePaths.length-1)},ImageLoader.prototype._numLoaded=0,ImageLoader.prototype._loading=!1;